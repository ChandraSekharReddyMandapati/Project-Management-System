{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <title>Edit Team Member</title>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            function check() {
                var dm1 = document.getElementById("cat");
                var dm2 = document.getElementById("Designation");
                var selectedvalue = dm1.value;
                dm2.innerHTML = "";
        
                if (selectedvalue === "Webdevelopment") {
                    dm2.add(new Option("Back_end developer(jr)", "Back_end developer(jr)"));
                    dm2.add(new Option("Back_end developer(sr)", "Back_end developer(sr)"));
                    dm2.add(new Option("Frontend developer(jr)", "Frontend developer(jr)"));
                    dm2.add(new Option("Frontend developer(sr)", "Frontend developer(sr)"));
                } else if (selectedvalue === "Appdevelopment") {
                    dm2.add(new Option("Java developer(sr)", "Java developer(sr)"));
                    dm2.add(new Option("Kotlin developer(sr)", "Kotlin developer(sr)"));
                    dm2.add(new Option("Java developer(jr)", "Java developer(jr)"));
                    dm2.add(new Option("Kotlin developer(jr)", "Kotlin developer(jr)"));
                } else if (selectedvalue === "Ios") {
                    dm2.add(new Option("Flutter developer(sr)", "Flutter developer(sr)"));
                    dm2.add(new Option("Swift developer(sr)", "Swift developer(sr)"));
                    dm2.add(new Option("Flutter developer(jr)", "Flutter developer(jr)"));
                    dm2.add(new Option("Swift developer(jr)", "Swift developer(jr)"));
                }
            }

            document.getElementById("cat").addEventListener("change", check);

            // Populate the Designation dropdown if a category is already selected
            var selectedvalue = document.getElementById("cat").value;
            if (selectedvalue !== "-") {
                check();
            }
        });
    </script>
</head>
<body>
    <div class="container-fluid border">
        <p class="display-6"><i class="fa-solid fa-circle-plus" style="color: #74C0FC;"></i> Edit Team Member</p>
        <p class="display-7"> <i class="fa-solid fa-circle-info"></i> Enter Information</p>
        <form action="." method="POST" enctype="multipart/form-data">{% csrf_token %}
            <div class="input-group mb-3">
                <span class="input-group-text" id="basic-addon1">Name</span>
                <input type="text" class="form-control" name="name" value="{{ item.name }}" placeholder="Name" aria-label="file" aria-describedby="basic-addon1" required>
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text" id="basic-addon1">Email</span>
                <input type="email" class="form-control" name="email" value="{{ item.email }}" placeholder="Email" aria-label="file" aria-describedby="basic-addon1" required>
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text" id="basic-addon1">Address</span>
                <input type="text" class="form-control" name="address" value="{{ item.address }}" placeholder="Address" aria-label="file" aria-describedby="basic-addon1" required>
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text" id="basic-addon1">Contact Number</span>
                <input type="tel" class="form-control" name="contact" value="{{ item.contact }}" placeholder="Phone" aria-label="file" aria-describedby="basic-addon1" required>
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text" id="basic-addon1">Image</span>
                <input type="file" class="form-control" name="image" placeholder="File" aria-label="file" aria-describedby="basic-addon1">
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text" id="basic-addon1">Gender</span>
                <select name="gender" class="form-control" required>
                    <option value="-" {% if item.gender == '-' %}selected{% endif %}>---</option>
                    <option value="Male" {% if item.gender == 'Male' %}selected{% endif %}>Male</option>
                    <option value="Female" {% if item.gender == 'Female' %}selected{% endif %}>Female</option>
                </select>
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text" id="basic-addon1">Categories</span>
                <select name="categories" id="cat" class="form-control" required>
                    <option value="-" {% if item.categories == '-' %}selected{% endif %}>---</option>
                    <option value="Webdevelopment" {% if item.categories == 'Webdevelopment' %}selected{% endif %}>Web Development</option>
                    <option value="Appdevelopment" {% if item.categories == 'Appdevelopment' %}selected{% endif %}>App Development</option>
                    <option value="Ios" {% if item.categories == 'Ios' %}selected{% endif %}>iOS</option>
                </select>
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text" id="basic-addon1">Designations</span>
                <select name="designations" id="Designation" class="form-control" required>
                    <option value="{{ item.designations }}" selected>{{ item.designations }}</option>
                </select>
            </div>
            <div class="input-group mb-3">
                <button type="submit" class="btn btn-outline-primary">Save Info</button>
            </div>
        </form>
    </div>
</body>
</html>
